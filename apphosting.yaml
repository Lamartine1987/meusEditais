# Configurações do backend do Firebase App Hosting
# https://firebase.google.com/docs/app-hosting/configure
runConfig:
  env:
    # Segredos individuais do Stripe para o ambiente de execução
    - variable: STRIPE_SECRET_KEY_PROD
      secret: STRIPE_SECRET_KEY_PROD
    - variable: STRIPE_WEBHOOK_SECRET_PROD
      secret: STRIPE_WEBHOOK_SECRET_PROD
    - variable: STRIPE_PRICE_ID_PLANO_CARGO
      secret: STRIPE_PRICE_ID_PLANO_CARGO
    - variable: STRIPE_PRICE_ID_PLANO_EDITAL
      secret: STRIPE_PRICE_ID_PLANO_EDITAL
    - variable: STRIPE_PRICE_ID_PLANO_ANUAL
      secret: STRIPE_PRICE_ID_PLANO_ANUAL
    # Chave pública do Stripe para o cliente
    - variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
      secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY

# A chave de API do Firebase agora está diretamente no código (src/lib/firebase.ts),
# então não precisamos mais passá-la durante o build.
# Esta seção foi simplificada para remover a lógica que não estava funcionando.
build: {}

# Define todos os segredos que o App Hosting deve acessar.
secretEnv:
  - secret: GOOGLE_API_KEY
  - secret: STRIPE_SECRET_KEY_PROD
  - secret: STRIPE_WEBHOOK_SECRET_PROD
  - secret: STRIPE_PRICE_ID_PLANO_CARGO
  - secret: STRIPE_PRICE_ID_PLANO_EDITAL
  - secret: STRIPE_PRICE_ID_PLANO_ANUAL
  - secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
