# Configurações do backend do Firebase App Hosting
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  maxInstances: 1

env:
  # ✅ Segredos usados apenas no backend
  - variable: STRIPE_SECRET_KEY_PROD
    secret: STRIPE_SECRET_KEY_PROD

  - variable: STRIPE_WEBHOOK_SECRET_PROD
    secret: STRIPE_WEBHOOK_SECRET_PROD

  - variable: STRIPE_PRICE_ID_PLANO_CARGO
    secret: STRIPE_PRICE_ID_PLANO_CARGO

  - variable: STRIPE_PRICE_ID_PLANO_EDITAL
    secret: STRIPE_PRICE_ID_PLANO_EDITAL

  - variable: STRIPE_PRICE_ID_PLANO_ANUAL
    secret: STRIPE_PRICE_ID_PLANO_ANUAL

  - variable: NEXT_PUBLIC_APP_URL
    value: "https://meuseditais.web.app"

  # ✅ Chave pública do Stripe, necessária no build do frontend
  # Certifique-se de que um secret chamado NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
  # existe no Google Secret Manager com o valor da sua chave publicável do Stripe.
  - variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
    secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY # CORRIGIDO: Referencia o NOME do secret
