# Configurações do backend do Firebase App Hosting
# https://firebase.google.com/docs/app-hosting/configure

# Disponibiliza os segredos para o ambiente de execução do servidor.
runConfig:
  env:
    - variable: CONSOLIDATED_SECRETS
      secret: STRIPE_SECRETS
    - variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
      secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY

# Disponibiliza a chave de API do Firebase para o processo de build do Next.js.
# Isso é CRÍTICO para o login e outras funcionalidades do Firebase no cliente funcionarem.
build:
  args:
    # A variável NEXT_PUBLIC_FIREBASE_API_KEY estará disponível durante o build.
    NEXT_PUBLIC_FIREBASE_API_KEY: ${GOOGLE_API_KEY}

# Define os segredos que o App Hosting deve acessar.
secretEnv:
  - secret: GOOGLE_API_KEY
  - secret: STRIPE_SECRETS
  - secret: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
