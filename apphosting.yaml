# Configurações do backend do Firebase App Hosting
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  maxInstances: 1

env:
  # O segredo GOOGLE_API_KEY do Secret Manager é atribuído a
  # NEXT_PUBLIC_GOOGLE_API_KEY. O Next.js exige o prefixo 'NEXT_PUBLIC_'
  # para expor a variável ao código do lado do cliente (navegador).
  - variable: NEXT_PUBLIC_GOOGLE_API_KEY
    secret: GOOGLE_API_KEY

  # Segredos que devem ser criados individualmente no Google Secret Manager
  # e acessados apenas no lado do servidor.
  - variable: FIREBASE_ADMIN_UIDS
    secret: FIREBASE_ADMIN_UIDS
    
  # Segredo consolidado do Stripe (um único segredo contendo um objeto JSON)
  - variable: STRIPE_SECRETS
    secret: STRIPE_SECRETS

  # Chaves públicas que não precisam ser segredos.
  - variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
    value: 'pk_test_51Pbm5qRxPl1dC9Z4B53p2L1Qf11FwSRAL5dGf1Pmc23s5kIq1vXfG1LqXkK92w1iG4U8kC9wLd2cWbI5a79Yy7fT00l8TZyfEk'
  - variable: NEXT_PUBLIC_APP_URL
    value: 'https://meuseditaisbackend-t9925a5p.web.app'
